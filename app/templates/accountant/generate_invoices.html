{% extends "share/dashboard.html" %}

{% block title %}Generate Invoices{% endblock %}

{% block card_header %}bg-info{% endblock %}

{% block card_title %}Generate Invoices{% endblock %}

{% block card_content %}
<h3>Generate Invoices</h3>
<p>Select an invoice to generate, edit, or request approval from the admin.</p>

<div class="row">
    {% for invoice in invoices %}
    <div class="col-md-4">
        <div class="card text-white bg-primary mb-3">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span>Invoice #{{ invoice.invoice_id }}</span>
                <!-- Pencil icon for editing -->
                <a href="{{ url_for('accountant.edit_invoice', invoice_id=invoice.invoice_id) }}" 
                   class="text-light" title="Edit Invoice">
                   Edit
                   <!-- <i class="fas fa-pencil-alt"></i> -->
                </a>
            </div>
            <div class="card-body">
                <h5 class="card-title">RM {{ invoice.total_amount }}</h5> <!-- Add RM here -->

                <!-- Buttons row -->
                <div class="d-flex justify-content-between">
                    <!-- Generate Invoice button -->
                    <a href="{{ url_for('accountant.generate_invoice', invoice_id=invoice.invoice_id) }}" 
                       class="btn btn-primary" target="_blank">
                       Generate Invoice
                    </a>

                    <!-- Placeholder for admin approval button -->
                    <button class="btn btn-warning" disabled>
                        Request Approval
                    </button>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

